访问者模式： visitor是一种行为设计模式，目的是将算法和对象隔离开来

适用场景：
（1）如果你需要对一个复杂对象结构 （例如对象树） 中的所有元素执行某些操作， 可使用访问者模式
如果你需要对一个复杂对象结构 （例如对象树） 中的所有元素执行某些操作， 可使用访问者模式。
（2）可使用访问者模式来清理辅助行为的业务逻辑。
该模式会将所有非主要的行为抽取到一组访问者类中， 使得程序的主要类能更专注于主要的工作。
（3）当某个行为仅在类层次结构中的一些类中有意义， 而在其他类中没有意义时， 可使用该模式
你可将该行为抽取到单独的访问者类中， 只需实现接收相关类的对象作为参数的访问者方法并将其他方法留空即可


实现方法：
1、在访问者接口中声明一组 “访问” 方法， 分别对应程序中的每个具体元素类
2、声明元素接口。
3、在所有具体元素类中实现接收方法。 这些方法必须将调用重定向到当前元素对应的访问者对象中的访问者方法上
4、元素类只能通过访问者接口与访问者进行交互。 不过访问者必须知晓所有的具体元素类， 因为这些类在访问者方法中都被作为参数类型引用
5、你可能会遇到访问者需要访问元素类的部分私有成员变量的情况。 在这种情况下， 你要么将这些变量或方法设为公有， 这将破坏元素的封装；
要么将访问者类嵌入到元素类中。 后一种方式只有在支持嵌套类的编程语言中才可能实现


优点：
开闭原则。 你可以引入在不同类对象上执行的新行为， 且无需对这些类做出修改， 访问者类添加新行为
单一职责原则。 可将同一行为的不同版本移到同一个类中
访问者对象可以在与各种对象交互时收集一些有用的信息。 当你想要遍历一些复杂的对象结构 （例如对象树）， 并在结构中的每个对象上应用访问者时， 这些信息可能会有所帮助

缺点：
每次在元素层次结构中添加或移除一个类时， 你都要更新所有的访问者
在访问者同某个元素进行交互时， 它们可能没有访问元素私有成员变量和方法的必要权限